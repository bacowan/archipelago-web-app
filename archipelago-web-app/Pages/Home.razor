@page "/"
@using archipelagoWebApp.Models
@inject ILogger<ConnectForm> Logger

<h1 class="text-center py-3">Archipelago Web App</h1>

<EditForm Model="Model" OnSubmit="Submit" FormName="Connection" class="d-flex flex-column align-items-center justify-content-center flex-grow-1 gap-3">
    <label class="w-50">
        Host and Port:
        <InputText @bind-Value="Model!.HostAndPort" class="form-control"/>
    </label>
    <label class="w-50">
        Player Name:
        <InputText @bind-Value="Model!.PlayerName" class="form-control"/>
    </label>
    <label class="w-50">
        Password:
        <InputText type="password" @bind-Value="Model!.Password" class="form-control"/>
    </label>
    <input type="submit" value="Login & Connect" />
</EditForm>

@code {
    [SupplyParameterFromForm]
    private ConnectForm? Model { get; set; }

    protected override void OnInitialized() => Model ??= new();

    private void Submit() {
        Logger.LogInformation("Id = {Id}", Model?.HostAndPort);
    }
}